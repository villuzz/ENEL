<mvc:View xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1" xmlns:fb="sap.ui.comp.filterbar" xmlns:l="sap.ui.layout" xmlns:ui="sap.ui.table" xmlns:f="sap.f" xmlns:form="sap.ui.layout.form" controllerName="PM030.APP1.controller.TabellaProgressivoAzioniTipo">
<NavContainer
			id="navCon"
			class="navContainerControl sapUiSmallMarginBottom">
    <f:DynamicPage id="dynamicPageId" preserveHeaderStateOnScroll="true" showFooter="false" fitContent="true" class="sapUiContentPadding" >
      
        <f:title>
            <f:DynamicPageTitle>
                <f:content>
                    <HBox height="100%" alignItems="Center" alignContent="Center" justifyContent="Center">
                    <Label text="Home" visible="false" labelFor="idHomeButton"/>
                         <Button id="idHomeButton" type="Emphasized" text="Home"  press="onBack" class="sapUiSmallMarginEnd" ariaLabelledBy="Home" tooltip="{i18n>HomeButton}" />
                        <Title text="{i18n>TitoloTPAT}" class="sapUiTinyMarginTop"/>
                    </HBox>
                </f:content>
                <f:actions></f:actions>
                <f:navigationActions>
                    <!-- <Button text="Nuovo"  icon="sap-icon://document" press="onNuovo" class="sapUiTinyMarginBegin" ariaLabelledBy="invisibleId" tooltip="{i18n>NewButton}"/>
                    <core:InvisibleText text="test" id="invisibleId" /> -->
                    <Button text="Nuovo"  icon="sap-icon://document" press="onNuovo" class="sapUiTinyMarginBegin" ariaLabelledBy="invisibleId" tooltip="{i18n>NewButton}"/>

                    <Button text="Modifica" icon="sap-icon://edit" press="onModify" class="sapUiTinyMarginBegin" ariaLabelledBy="{i18n>ModifyButton}" tooltip="{i18n>ModifyButton}"/>
                    <Button text="Copia"  icon="sap-icon://copy" press="onCopy" class="sapUiTinyMarginBegin" ariaLabelledBy="{i18n>CopyButton}" tooltip="{i18n>CopyButton}"/>
                    <Button text="Cancella" icon="sap-icon://delete" press="onCancel" class="sapUiTinyMarginBegin" ariaLabelledBy="{i18n>CancelButton}" tooltip="{i18n>CancelButton}"/>   
                </f:navigationActions>
            </f:DynamicPageTitle>
        </f:title>
        <f:header>
            <f:DynamicPageHeader pinnable="true">
                <f:content>
                    <fb:FilterBar id="filterbarPiste" useToolbar="false" search="onSearchResult" showRestoreButton="true" showClearButton="true">
                        <fb:filterGroupItems>

                            <fb:FilterGroupItem id="Werks" visible="true" name="Werks" label="{i18n>Divisione}" groupName="McbDivisione" partOfCurrentVariant="true" visibleInFilterBar="true">
                              <fb:control>
                                <MultiComboBox id="McbDivisione" selectedKeys="{sFilter>/Werks}" items="{ path: 'sHelp>/Werks', sorter: [{ path: 'Werks', descending: false, group:false }] }" > 
                                  <core:Item key="{sHelp>Werks}" text="{sHelp>Werks}"/>
                                </MultiComboBox>
                              </fb:control>
                            </fb:FilterGroupItem>

                            <fb:FilterGroupItem id="Sistema" visible="true" groupName="McbSistema" name="Sistema" label="{i18n>Sistema}" partOfCurrentVariant="true" visibleInFilterBar="true">
                              <fb:control>
                                <MultiComboBox id="McbSistema" selectedKeys="{sFilter>/Sistema}" items="{ path: 'sHelp>/Sistema', sorter: [{ path: 'Sistema', descending: false, group:false }] }" > 
                                  <core:Item key="{sHelp>Sistema}" text="{sHelp>Sistema}"/>
                                </MultiComboBox>
                              </fb:control>
                            </fb:FilterGroupItem>

                            <fb:FilterGroupItem id="Progres" visible="true" groupName="McbProgres" name="Progres" label="{i18n>Progressivo}" partOfCurrentVariant="true" visibleInFilterBar="true">
                              <fb:control>
                                <MultiComboBox id="McbProgres" selectedKeys="{sFilter>/Progres}" items="{ path: 'sHelp>/Progres', sorter: [{ path: 'Progres', descending: false, group:false }] }" > 
                                  <core:Item key="{sHelp>Progres}" text="{sHelp>Progres}"/>
                                </MultiComboBox>
                              </fb:control>
                            </fb:FilterGroupItem>

                            <fb:FilterGroupItem id="Txt" visible="true" groupName="McbTxt" name="Txt" label="{i18n>DescrizioneProgressivo}" partOfCurrentVariant="true" visibleInFilterBar="true">
                              <fb:control>
                                <MultiComboBox id="McbTxt" selectedKeys="{sFilter>/Txt}" items="{ path: 'sHelp>/Txt', sorter: [{ path: 'Txt', descending: false, group:false }] }" > 
                                  <core:Item key="{sHelp>Txt}" text="{sHelp>Txt}"/>
                                </MultiComboBox>
                              </fb:control>
                            </fb:FilterGroupItem>

                            <fb:FilterGroupItem id="ComponentTipo" visible="true" groupName="McbComponentTipo" name="ComponentTipo" label="{i18n>ComponenteTipo}" partOfCurrentVariant="true" visibleInFilterBar="true">
                              <fb:control>
                                <MultiComboBox id="McbComponentTipo" selectedKeys="{sFilter>/ComponentTipo}" items="{ path: 'sHelp>/ComponentTipo', sorter: [{ path: 'ComponentTipo', descending: false, group:false }] }" > 
                                  <core:Item key="{sHelp>ComponentTipo}" text="{sHelp>ComponentTipo}"/>
                                </MultiComboBox>
                              </fb:control>
                            </fb:FilterGroupItem>

                        </fb:filterGroupItems>
                    </fb:FilterBar>
                     <OverflowToolbar class="sapUiSmallMarginTop" style="Clear">
                      <Button type="Default" tooltip="{i18n>List}" text="{i18n>ListVar}" icon="sap-icon://activity-items" press="onListVariant" ariaLabelledBy="Lista Varianti"/>
                      <Button type="Default" tooltip="{i18n>SaveVar}" text="{i18n>SalvaVar}" icon="sap-icon://save" press="onPressVariant" ariaLabelledBy="Salva Variante"/>
                      <ToolbarSpacer/>
                      <Button text="Scarica" tooltip="{i18n>Download}" icon="sap-icon://download" press="onDataExport" class="sapUiTinyMarginBegin" ariaLabelledBy="Scarica"/>
                      <Button text="Carica" tooltip="{i18n>Load}" icon="sap-icon://upload" press="handleUploadPiani" class="sapUiTinyMarginBegin" ariaLabelledBy="Carica"/>
                      <Button text="Colonne" tooltip="{i18n>Columns}" icon="sap-icon://action-settings" press="onPersoButtonPressed" class="sapUiTinyMarginBegin" ariaLabelledBy="Colonne"/>
                    </OverflowToolbar>
                </f:content>
            </f:DynamicPageHeader>
        </f:header>
        
        <f:content > 
         <Panel width="100%" height="100%" class="block">
            <ScrollContainer width="100%" height="100%" vertical="true" horizontal="true" >
           
                <Table id="tbProgressivoAzioni" ariaLabelledBy="title" growing="true" growingThreshold="100" growingScrollToLoad="false" items="{path: 'T_ACT_PROG>/', sorter: [{ path: 'Werks', descending: false, group:false }] }"  mode="MultiSelect" sticky="HeaderToolbar,ColumnHeaders" selectionChange="onSelectRow">
                  <columns>
                        <Column width="15em" id="col1"><Text text="{i18n>Divisione}"/></Column>
                        <Column width="15em" id="col2"><Text text="{i18n>Sistema}"/></Column>
                        <Column width="15em" id="col3"><Text text="{i18n>Progressivo}"/></Column>                        
                        <Column width="15em" id="col4"><Text text="{i18n>DescrizioneProgressivo}"/></Column>
                        <Column width="15em" id="col5"><Text text="{i18n>ComponenteTipo}"/></Column>
                    </columns>
                    <items>
                        <ColumnListItem vAlign="Middle" type="Active" press="onPressLine">
                            <cells>
                                <Text text="{T_ACT_PROG>Werks}" wrapping="true"/>
                                <Text text="{T_ACT_PROG>Sistema}" wrapping="true"/>
                                <Text text="{T_ACT_PROG>Progres}" wrapping="true"/>
                                <Text text="{T_ACT_PROG>Txt}" wrapping="true"/>
                                <Text text="{T_ACT_PROG>ComponentTipo}" wrapping="true"/>
                            </cells>
                        </ColumnListItem>
                    </items>
                </Table>
           
             </ScrollContainer>
          </Panel>
        </f:content>
        <f:footer>
            <OverflowToolbar>
                <ToolbarSpacer/>
                <ToolbarSpacer/>
            </OverflowToolbar>
        </f:footer>
     <f:dependents>
      <core:Fragment fragmentName="PM030.APP1.view.fragment.UploadTable" type="XML"></core:Fragment>
          <core:Fragment fragmentName="PM030.APP1.view.fragment.Variant" type="XML"></core:Fragment>
          <core:Fragment fragmentName="PM030.APP1.view.fragment.SaveVariant" type="XML"></core:Fragment>
        </f:dependents>
   </f:DynamicPage>
    <f:DynamicPage id="Detail" preserveHeaderStateOnScroll="true" showFooter="false" fitContent="true" class="sapUiContentPadding">
        <f:title>
            <f:DynamicPageTitle>
                <f:content>
                 <HBox height="100%" alignItems="Center" alignContent="Center" justifyContent="Center">
                        <Button type="Transparent" icon="sap-icon://nav-back"  press="onBackDetail" class="sapUiSmallMarginEnd" tooltip="{i18n>NavBack}" ariaLabelledBy="Indietro"/>
                        <Title title="{i18n>editPage}"  id="TitleDetail"  class="sapUiTinyMarginTop"/>
                    </HBox>
                </f:content>
                <f:actions></f:actions>
                <f:navigationActions>
                    <Button icon="sap-icon://save" press="onSave" text="{i18n>Salva}" tooltip="{i18n>SaveButton}" ariaLabelledBy="Salva"/>
                </f:navigationActions>
            </f:DynamicPageTitle>
        </f:title>
        <f:header>
            <f:DynamicPageHeader pinnable="true">
                <f:content>
                 
                </f:content>
            </f:DynamicPageHeader>
        </f:header>
        <f:content>
        <form:Form editable="true">
           <form:layout>
				<form:ResponsiveGridLayout
					labelSpanXL="3"
					labelSpanL="3"
					labelSpanM="3"
					labelSpanS="12"
					adjustLabelSpan="false"
					emptySpanXL="4"
					emptySpanL="4"
					emptySpanM="4"
					emptySpanS="0"
					columnsXL="1"
					columnsL="1"
					columnsM="1"
					singleContainerFullSize="false" />
			</form:layout>
      <form:formContainers>
            <form:FormContainer ariaLabelledBy="Title2">
              <form:formElements>
              <form:FormElement label="{i18n>Divisione}">
                  <form:fields>
                    <ComboBox change="handleChangeCb" valueStateText="{i18n>valueState} {i18n>Divisione}" showSecondaryValues= "true" items="{ path: 'sHelp>/DIVISIONE', length:4000 }" selectedKey="{sSelect>/Werks}" enabled="{ parts:[{path:'sSelect>/stato'}], formatter: '.LocalFormatter.statoEnabled'}" >
                      <core:ListItem key="{sHelp>Fieldname1}" text="{sHelp>Fieldname1}" additionalText="{sHelp>Fieldname2}"/>
                    </ComboBox>
                  </form:fields>
                </form:FormElement>
                <form:FormElement label="{i18n>Sistema}">
                  <form:fields>
                    <ComboBox change="handleChangeCb" valueStateText="{i18n>valueState} {i18n>SISTEMA}" showSecondaryValues= "true" items="{ path: 'sHelp>/SISTEMA', length:4000 }" selectedKey="{sSelect>/Sistema}" enabled="{ parts:[{path:'sSelect>/stato'}], formatter: '.LocalFormatter.statoEnabled'}" >
                      <core:ListItem key="{sHelp>Sistema}" text="{sHelp>Sistema}" additionalText="{sHelp>Txt}"/>
                    </ComboBox>
                  </form:fields>
                </form:FormElement>
                <form:FormElement label="{i18n>Progressivo}" >
                  <form:fields>
                    <Input value="{sSelect>/Progres}" enabled="{ parts:[{path:'sSelect>/stato'}], formatter: '.LocalFormatter.statoEnabled'}" />
                  </form:fields>
                </form:FormElement>
                <form:FormElement label="{i18n>DescrizioneProgressivo}" >
                  <form:fields>
                    <Input value="{sSelect>/Txt}"/>
                  </form:fields>
                </form:FormElement>
                <form:FormElement label="{i18n>ComponenteTipo}" >
                  <form:fields>
                    <Input value="{sSelect>/ComponentTipo}"/>
                  </form:fields>
                </form:FormElement>
              </form:formElements>
            </form:FormContainer>
          </form:formContainers>
        </form:Form>
        </f:content>
    </f:DynamicPage>
  </NavContainer>
</mvc:View>
